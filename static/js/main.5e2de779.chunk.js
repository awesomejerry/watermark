(this.webpackJsonpwatermark=this.webpackJsonpwatermark||[]).push([[0],{66:function(e,t,a){e.exports=a(80)},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},79:function(e,t,a){e.exports=a.p+"static/media/logo.8c4f0b91.png"},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),i=a.n(r),l=(a(71),a(72),a(112)),c=a(111),s=a(109),m=a(113),f=a(35),u=(a(73),a(110)),h=a(115),d=a(11),g=a(114),v=a(52),w=a(50),b=a.n(w),p=function(e){var t=e.canvas,a=e.img,n=e.name,o=e.date,r=(e.logo,t.getContext("2d")),i=t.width/a.width,l=t.height/a.height,c=Math.max(i,l),s=(t.width-a.width*c)/2,m=(t.height-a.height*c)/2;return r.clearRect(0,0,t.width,t.height),r.drawImage(a,0,0,a.width,a.height,s,m,a.width*c,a.height*c),function(e){var t=e.ctx,a=e.size;t.lineWidth=3,t.strokeStyle="#fafafa",t.beginPath(),t.moveTo(40,40),t.lineTo(a-40,40),t.stroke(),t.closePath(),t.beginPath(),t.moveTo(a-40,40),t.lineTo(a-40,a-40),t.stroke(),t.closePath(),t.beginPath(),t.moveTo(a-40,a-40),t.lineTo(40,a-40),t.stroke(),t.closePath(),t.beginPath(),t.moveTo(40,a-40),t.lineTo(40,40),t.stroke(),t.closePath()}({ctx:r,size:1080}),function(e){var t=e.ctx,a="normal 700 ".concat(21,"pt 'Montserrat', 'Noto Sans TC', 'Noto Sans', sans-serif"),n="normal 700 ".concat(16,"pt 'Montserrat', 'Noto Sans TC', 'Noto Sans', sans-serif");t.font=n;var o=t.measureText("GATHERING").width;t.fillStyle="rgba(0, 0, 0, 0.6)",t.fillRect(25,21.75,o+20,77),t.textAlign="left",t.fillStyle="#fafafa",t.font=a,t.fillText("NODE",35,55.75),t.font=n,t.fillText("GATHERING",35,81.75)}({ctx:r}),function(e){var t=e.ctx,a=e.name,n=e.date,o="normal 400 ".concat(21,"pt Montserrat, 'Noto Sans TC', 'Noto Sans', sans-serif"),r="normal 400 ".concat(37,"pt Montserrat, 'Noto Sans TC', 'Noto Sans', sans-serif"),i="- ".concat(a," -"),l=b()(n).format("MM/DD");t.font=o;var c=t.measureText(i).width;t.font=r;var s=t.measureText(l).width;t.fillStyle="rgba(0, 0, 0, 0.5)";var m=Math.max(c,s);t.fillRect(1030-m-12,923,m+20,114),t.textAlign="right",t.fillStyle="#fafafa",t.font=o,t.fillText(i,1030,963),t.font=r,t.fillText(l,1030,1020)}({ctx:r,name:n,date:o}),t.toDataURL("image/jpeg")},E=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),r=Object(n.useRef)(null),i=Object(n.useRef)(null),l=Object(n.useRef)(null),c=Object(n.useState)(null),s=Object(f.a)(c,2),m=s[0],w=s[1],b=Object(n.useState)(null),E=Object(f.a)(b,2),T=E[0],x=E[1],R=Object(n.useState)(""),N=Object(f.a)(R,2),S=N[0],j=N[1],k=Object(n.useState)(null),O=Object(f.a)(k,2),P=O[0],y=O[1];return o.a.createElement("div",{className:"Watermark"},o.a.createElement(h.a,{id:"standard-name",label:"Gathering Name",className:"input-width",margin:"normal",value:S,onChange:function(e){return j(e.target.value)}}),o.a.createElement(d.a,{utils:v.a},o.a.createElement(g.a,{disableToolbar:!0,variant:"inline",format:"MM/dd",margin:"normal",label:"Gathering Date",className:"input-width",KeyboardButtonProps:{"aria-label":"change date"},minDate:Date.now(),value:P,onChange:function(e){return y(e)}})),o.a.createElement("div",{className:"button-margin"},o.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){return i.current.click()}},"Choose Photo")),o.a.createElement("input",{id:"upload",ref:i,type:"file",onChange:function(e){return function(e,t){var a=t.setRaw;e.preventDefault();var n=new FileReader,o=e.target.files[0];n.onloadend=function(){a(n.result)},n.readAsDataURL(o)}(e,{setRaw:w})}}),o.a.createElement("img",{src:m,ref:t,alt:"raw",onLoad:function(){return function(e){var t=e.canvasRef,a=e.rawRef,n=e.setPreview,o=e.name,r=e.date,i=e.logoRef,l=t.current,c=a.current,s=i.current;n(p({canvas:l,img:c,name:o,date:r,logo:s}))}({canvasRef:e,rawRef:t,setPreview:x,name:S,date:P,logoRef:l})}}),o.a.createElement("img",{src:a(79),ref:l,alt:"logo"}),o.a.createElement("canvas",{ref:e,width:1080,height:1080}),T&&o.a.createElement("img",{src:T,ref:r,alt:"download"}),T&&o.a.createElement("div",{className:"button-margin"},o.a.createElement(u.a,{variant:"contained",color:"primary",href:T.replace("image/png","image/octet-stream"),download:"cover.jpg"},"Download")))};var T=function(){return o.a.createElement("div",null,o.a.createElement(l.a,{position:"static"},o.a.createElement(c.a,null,o.a.createElement(s.a,{variant:"h6"},"Node Gathering Cover"))),o.a.createElement(m.a,{maxWidth:"sm"},o.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.5e2de779.chunk.js.map