(this.webpackJsonpwatermark=this.webpackJsonpwatermark||[]).push([[0],{77:function(e,t,a){e.exports=a(92)},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},91:function(e,t,a){e.exports=a.p+"static/media/logo.8c4f0b91.png"},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),c=(a(82),a(83),a(127)),i=a(125),s=a(94),u=a(128),m=a(36),f=a(48),h=a.n(f),d=a(57),g=(a(85),a(124)),v=a(131),b=a(12),w=a(129),p=a(132),E=a(135),x=a(126),R=a(134),y=a(122),j=a(60),O=a(58),T=a.n(O),k={white:"#fafafa",black:"rgb(59, 74, 96)"},S=function(e){var t=e.canvas,a=e.img,n=e.name,r=e.date,o=(e.logo,e.style),l=t.getContext("2d"),c=t.width/a.width,i=t.height/a.height,s=Math.max(c,i),u=(t.width-a.width*s)/2,m=(t.height-a.height*s)/2;return l.clearRect(0,0,t.width,t.height),l.drawImage(a,0,0,a.width,a.height,u,m,a.width*s,a.height*s),function(e){var t=e.ctx,a=e.size,n=e.style,r=k[n];t.lineWidth=3,t.strokeStyle=r,t.beginPath(),t.moveTo(160,40),t.lineTo(a-40,40),t.stroke(),t.closePath(),t.beginPath(),t.moveTo(a-40,40),t.lineTo(a-40,a-40),t.stroke(),t.closePath(),t.beginPath(),t.moveTo(a-40,a-40),t.lineTo(40,a-40),t.stroke(),t.closePath(),t.beginPath(),t.moveTo(40,a-40),t.lineTo(40,100),t.stroke(),t.closePath()}({ctx:l,size:1080,style:o}),function(e){var t=e.ctx,a=e.style,n=k[a],r="normal 700 ".concat(21,"pt 'Montserrat', 'Noto Sans TC', 'Noto Sans', sans-serif"),o="normal 700 ".concat(16,"pt 'Montserrat', 'Noto Sans TC', 'Noto Sans', sans-serif");t.textAlign="left",t.fillStyle=n,t.font=r,t.fillText("NODE",38,56.75),t.font=o,t.fillText("GATHERING",38,82.75)}({ctx:l,style:o}),function(e){var t=e.ctx,a=e.name,n=e.date,r="normal 400 ".concat(21,"pt Montserrat, 'Noto Sans TC', 'Noto Sans', sans-serif"),o="normal 400 ".concat(37,"pt Montserrat, 'Noto Sans TC', 'Noto Sans', sans-serif"),l="- ".concat(a," -"),c=T()(n).format("MM/DD");t.font=r;var i=t.measureText(l).width;t.font=o;var s=t.measureText(c).width;t.fillStyle="rgba(0, 0, 0, 0.5)";var u=Math.max(i,s);t.fillRect(1030-u-12,924,u+20,114),t.textAlign="right",t.fillStyle="#fafafa",t.font=r,t.fillText(l,1030,963),t.font=o,t.fillText(c,1030,1020)}({ctx:l,name:n,date:r,style:o}),new Promise((function(e,a){t.toBlob((function(t){e(URL.createObjectURL(t))}))}))},N=function(){var e=Object(d.a)(h.a.mark((function e(t){var a,n,r,o,l,c,i,s,u,m,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.canvasRef,n=t.rawRef,r=t.setPreview,o=t.name,l=t.date,c=t.logoRef,i=t.style,s=a.current,u=n.current,m=c.current,e.next=6,S({canvas:s,img:u,name:o,date:l,logo:m,style:i});case 6:f=e.sent,r(f);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),o=Object(n.useRef)(null),l=Object(n.useRef)(null),c=Object(n.useRef)(null),i=Object(n.useState)(null),s=Object(m.a)(i,2),u=s[0],f=s[1],h=Object(n.useState)(null),d=Object(m.a)(h,2),O=d[0],T=d[1],k=Object(n.useState)(""),S=Object(m.a)(k,2),C=S[0],P=S[1],M=Object(n.useState)(null),D=Object(m.a)(M,2),W=D[0],B=D[1],G=Object(n.useState)("white"),A=Object(m.a)(G,2),L=A[0],I=A[1],U=Object(n.useCallback)((function(){N({canvasRef:e,rawRef:t,setPreview:T,name:C,date:W,logoRef:c,style:L})}),[L,W,C]);return Object(n.useEffect)((function(){u&&U()}),[u,U]),r.a.createElement("div",{className:"Watermark"},r.a.createElement(v.a,{id:"standard-name",label:"Gathering Name",fullWidth:!0,margin:"normal",value:C,onChange:function(e){return P(e.target.value)}}),r.a.createElement(b.a,{utils:j.a},r.a.createElement(w.a,{disableToolbar:!0,variant:"inline",format:"MM/dd",margin:"normal",label:"Gathering Date",fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"},minDate:Date.now(),value:W,onChange:function(e){return B(e)}})),r.a.createElement(R.a,{component:"fieldset",fullWidth:!0,margin:"normal"},r.a.createElement(y.a,{component:"legend"},"Style"),r.a.createElement(E.a,{"aria-label":"gender",name:"gender1",value:L,onChange:function(e){return I(e.target.value)},row:!0},r.a.createElement(x.a,{value:"white",control:r.a.createElement(p.a,null),label:"White"}),r.a.createElement(x.a,{value:"black",control:r.a.createElement(p.a,null),label:"Black"}))),r.a.createElement("div",{className:"button-margin"},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){l.current.value="",l.current.click()}},"Choose Photo")),r.a.createElement("input",{id:"upload",ref:l,type:"file",onChange:function(e){return function(e,t){var a=t.setRaw;t.rawRef;e.preventDefault();var n=new FileReader,r=e.target.files[0];a(""),n.onloadend=function(){a(n.result)},n.readAsDataURL(r)}(e,{setRaw:f,rawRef:t})}}),r.a.createElement("img",{src:u,ref:t,alt:"raw",onLoad:function(){return U()}}),r.a.createElement("img",{src:a(91),ref:c,alt:"logo"}),r.a.createElement("canvas",{ref:e,width:1080,height:1080}),O&&r.a.createElement("img",{src:O,ref:o,alt:"download"}),O&&r.a.createElement("div",{className:"button-margin"},r.a.createElement(g.a,{variant:"contained",color:"primary",href:O.replace("image/png","image/octet-stream"),download:"cover.jpg"},"Download")))};var P=function(){return r.a.createElement("div",null,r.a.createElement(c.a,{position:"static"},r.a.createElement(i.a,null,r.a.createElement(s.a,{variant:"h6"},"Node Gathering Cover"))),r.a.createElement(u.a,{maxWidth:"sm"},r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[77,1,2]]]);
//# sourceMappingURL=main.b525b714.chunk.js.map